<%= semantic_form_for(@person) do |f| %>

  <%= f.inputs :name => "Basic" do %>
    <%= f.input :first_name %>
    <%= f.input :last_name %>
    <%= f.input :public_name %>
    <%= f.input :gender, :collection => Person::GENDERS %>
  <% end %>

  <%= f.inputs :name => "Contact Data" do %>
    <%= f.input :email %>
    <%= f.input :email_public %>
    
    <div id="phone_numbers">
      <%= f.semantic_fields_for :phone_numbers do |phone| %>
        <%= render :partial => 'phone_number_fields', :locals => {:f => phone} %>
      <% end %>
      <%= link_to_add_association "add phone number", f, :phone_numbers %>
    </div>

    <div id="im_accounts">
      <%= f.semantic_fields_for :im_accounts do |account| %>
        <%= render :partial => 'im_account_fields', :locals => {:f => account} %>
      <% end %>
      <%= link_to_add_association "add IM account", f, :im_accounts %>
    </div>
  <% end %>

  <%= f.inputs :name => "Bio" do %>
    <%= f.input :abstract, :input_html => {:rows => 4} %>
    <%= f.input :description %>
  <% end %>
  
  <%= f.buttons do %>
    <%= f.commit_button %>
  <% end %>

<% end %>
